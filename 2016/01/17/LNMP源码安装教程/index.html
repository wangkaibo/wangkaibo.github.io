<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>åœ¨å´­æ–°çš„ Centos ç³»ç»Ÿä¸Šç¼–è¯‘å®‰è£… LNMP ç¯å¢ƒå®Œå…¨ç‰ˆ | è¯­æ–‡ä¸åŠæ ¼çš„äººçš„åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å‰å‡ å¤©ä¹°äº†ä¸ª VPSï¼Œå› ä¸ºä¹‹å‰æ¥è§¦ Nginx ä¸æ˜¯å¾ˆå¤šï¼Œæ‰€ä»¥æŠ˜è…¾ LNMPç¯å¢ƒæŠ˜è…¾äº†å‡ ä¸ªå°æ—¶ï¼Œæ‰€ä»¥æˆ‘æƒ³é‡æ–°å®‰è£…ä¸€éå¹¶å†™ç¯‡å­¦ä¹ ç¬”è®°ï¼Œæˆ–è€…è¯´æ•™ç¨‹ï¼Œå› æ­¤æœ¬æ–‡å°†ä»åœ¨å´­æ–°çš„ Centos ä¸Šæ­å»º LNMP ç¯å¢ƒï¼Œä¸ºäº†æ‰€æœ‰è½¯ä»¶éƒ½å¯ä»¥é€‰æ‹©æŒ‡å®šç‰ˆæœ¬å’Œå®‰è£…é…ç½®ï¼Œå› æ­¤é™¤äº†ä¾èµ–åŒ…ä¹‹å¤–éƒ½é‡‡ç”¨æºç åŒ…å®‰è£…çš„æ–¹å¼æ¥å®‰è£…ã€‚åºŸè¯ä¸å¤šè¯´ï¼ŒåˆšåˆšæŠŠ VPS rebulidã€‚æ³¨ï¼šæœ¬æ–‡å±äºæ–°æ‰‹å‹å¥½å‹ï¼Œèƒ½é‡åˆ°çš„é”™è¯¯åŸºæœ¬ä¸Šéƒ½ä¼šé‡åˆ°ã€‚ğŸ˜„
ä¸€ã€">
<meta property="og:type" content="article">
<meta property="og:title" content="åœ¨å´­æ–°çš„ Centos ç³»ç»Ÿä¸Šç¼–è¯‘å®‰è£… LNMP ç¯å¢ƒå®Œå…¨ç‰ˆ">
<meta property="og:url" content="http://yoursite.com/2016/01/17/LNMPæºç å®‰è£…æ•™ç¨‹/index.html">
<meta property="og:site_name" content="è¯­æ–‡ä¸åŠæ ¼çš„äººçš„åšå®¢">
<meta property="og:description" content="å‰å‡ å¤©ä¹°äº†ä¸ª VPSï¼Œå› ä¸ºä¹‹å‰æ¥è§¦ Nginx ä¸æ˜¯å¾ˆå¤šï¼Œæ‰€ä»¥æŠ˜è…¾ LNMPç¯å¢ƒæŠ˜è…¾äº†å‡ ä¸ªå°æ—¶ï¼Œæ‰€ä»¥æˆ‘æƒ³é‡æ–°å®‰è£…ä¸€éå¹¶å†™ç¯‡å­¦ä¹ ç¬”è®°ï¼Œæˆ–è€…è¯´æ•™ç¨‹ï¼Œå› æ­¤æœ¬æ–‡å°†ä»åœ¨å´­æ–°çš„ Centos ä¸Šæ­å»º LNMP ç¯å¢ƒï¼Œä¸ºäº†æ‰€æœ‰è½¯ä»¶éƒ½å¯ä»¥é€‰æ‹©æŒ‡å®šç‰ˆæœ¬å’Œå®‰è£…é…ç½®ï¼Œå› æ­¤é™¤äº†ä¾èµ–åŒ…ä¹‹å¤–éƒ½é‡‡ç”¨æºç åŒ…å®‰è£…çš„æ–¹å¼æ¥å®‰è£…ã€‚åºŸè¯ä¸å¤šè¯´ï¼ŒåˆšåˆšæŠŠ VPS rebulidã€‚æ³¨ï¼šæœ¬æ–‡å±äºæ–°æ‰‹å‹å¥½å‹ï¼Œèƒ½é‡åˆ°çš„é”™è¯¯åŸºæœ¬ä¸Šéƒ½ä¼šé‡åˆ°ã€‚ğŸ˜„
ä¸€ã€">
<meta property="og:updated_time" content="2016-01-20T17:03:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="åœ¨å´­æ–°çš„ Centos ç³»ç»Ÿä¸Šç¼–è¯‘å®‰è£… LNMP ç¯å¢ƒå®Œå…¨ç‰ˆ">
<meta name="twitter:description" content="å‰å‡ å¤©ä¹°äº†ä¸ª VPSï¼Œå› ä¸ºä¹‹å‰æ¥è§¦ Nginx ä¸æ˜¯å¾ˆå¤šï¼Œæ‰€ä»¥æŠ˜è…¾ LNMPç¯å¢ƒæŠ˜è…¾äº†å‡ ä¸ªå°æ—¶ï¼Œæ‰€ä»¥æˆ‘æƒ³é‡æ–°å®‰è£…ä¸€éå¹¶å†™ç¯‡å­¦ä¹ ç¬”è®°ï¼Œæˆ–è€…è¯´æ•™ç¨‹ï¼Œå› æ­¤æœ¬æ–‡å°†ä»åœ¨å´­æ–°çš„ Centos ä¸Šæ­å»º LNMP ç¯å¢ƒï¼Œä¸ºäº†æ‰€æœ‰è½¯ä»¶éƒ½å¯ä»¥é€‰æ‹©æŒ‡å®šç‰ˆæœ¬å’Œå®‰è£…é…ç½®ï¼Œå› æ­¤é™¤äº†ä¾èµ–åŒ…ä¹‹å¤–éƒ½é‡‡ç”¨æºç åŒ…å®‰è£…çš„æ–¹å¼æ¥å®‰è£…ã€‚åºŸè¯ä¸å¤šè¯´ï¼ŒåˆšåˆšæŠŠ VPS rebulidã€‚æ³¨ï¼šæœ¬æ–‡å±äºæ–°æ‰‹å‹å¥½å‹ï¼Œèƒ½é‡åˆ°çš„é”™è¯¯åŸºæœ¬ä¸Šéƒ½ä¼šé‡åˆ°ã€‚ğŸ˜„
ä¸€ã€">
  
    <link rel="alternative" href="/atom.xml" title="è¯­æ–‡ä¸åŠæ ¼çš„äººçš„åšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xpnci.com1.z0.glb.clouddn.com/5.pic.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Kaibo Wang</a></h1>
		</hgroup>

		
		<p class="header-subtitle">åšå®¢å›éœ€è¦æ›´æ–°</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>èœå•</li>
						<li>æ ‡ç­¾</li>
						
						
						<li>å…³äºæˆ‘</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">ä¸»é¡µ</a></li>
				        
							<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/wangkaibo" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/wangkaibo" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="mailto:wkaiboo@gmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/LNMP/" style="font-size: 10px;">LNMP</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/PHP7/" style="font-size: 10px;">PHP7</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">ä¸€ååç«¯å·¥ç¨‹å¸ˆï¼Œç°åœ¨å±…ä½åœ¨åŒ—äº¬ã€‚</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Kaibo Wang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://7xpnci.com1.z0.glb.clouddn.com/5.pic.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Kaibo Wang</h1>
			</hgroup>
			
			<p class="header-subtitle">åšå®¢å›éœ€è¦æ›´æ–°</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
					<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/wangkaibo" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/wangkaibo" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="mailto:wkaiboo@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-LNMPæºç å®‰è£…æ•™ç¨‹" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/17/LNMPæºç å®‰è£…æ•™ç¨‹/" class="article-date">
  	<time datetime="2016-01-17T14:33:06.000Z" itemprop="datePublished">2016-01-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      åœ¨å´­æ–°çš„ Centos ç³»ç»Ÿä¸Šç¼–è¯‘å®‰è£… LNMP ç¯å¢ƒå®Œå…¨ç‰ˆ
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LNMP/">LNMP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP7/">PHP7</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>å‰å‡ å¤©ä¹°äº†ä¸ª VPSï¼Œå› ä¸ºä¹‹å‰æ¥è§¦ Nginx ä¸æ˜¯å¾ˆå¤šï¼Œæ‰€ä»¥æŠ˜è…¾ LNMPç¯å¢ƒæŠ˜è…¾äº†å‡ ä¸ªå°æ—¶ï¼Œæ‰€ä»¥æˆ‘æƒ³é‡æ–°å®‰è£…ä¸€éå¹¶å†™ç¯‡å­¦ä¹ ç¬”è®°ï¼Œæˆ–è€…è¯´æ•™ç¨‹ï¼Œå› æ­¤æœ¬æ–‡å°†ä»åœ¨å´­æ–°çš„ Centos ä¸Šæ­å»º LNMP ç¯å¢ƒï¼Œä¸ºäº†æ‰€æœ‰è½¯ä»¶éƒ½å¯ä»¥é€‰æ‹©æŒ‡å®šç‰ˆæœ¬å’Œå®‰è£…é…ç½®ï¼Œå› æ­¤é™¤äº†ä¾èµ–åŒ…ä¹‹å¤–éƒ½é‡‡ç”¨æºç åŒ…å®‰è£…çš„æ–¹å¼æ¥å®‰è£…ã€‚åºŸè¯ä¸å¤šè¯´ï¼ŒåˆšåˆšæŠŠ VPS rebulidã€‚<br>æ³¨ï¼šæœ¬æ–‡å±äºæ–°æ‰‹å‹å¥½å‹ï¼Œèƒ½é‡åˆ°çš„é”™è¯¯åŸºæœ¬ä¸Šéƒ½ä¼šé‡åˆ°ã€‚ğŸ˜„</p>
<h2 id="u4E00_u3001_u5B89_u88C5_Nginx"><a href="#u4E00_u3001_u5B89_u88C5_Nginx" class="headerlink" title="ä¸€ã€å®‰è£… Nginx"></a>ä¸€ã€å®‰è£… Nginx</h2><p>è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯1.8.0<br>æ‰§è¡Œå‘½ä»¤ä¸‹è½½å¹¶è§£å‹ Nginx æºç åŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://nginx.org/download/nginx-1.8.0.tar.gz&#10;tar -xzvf nginx-1.8.0.tar.gz&#10;cd nginx-1.8.0</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>è¿™é‡Œæˆ‘ä»¬./Configure è‚¯å®šä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºæˆ‘ä»¬è¿™æ˜¯ä¸€å°å´­æ–°çš„ Centos ç³»ç»Ÿï¼Œç¼ºå°‘å¥½å¤šNginxä¾èµ–åŒ…ï¼Œè¿™é‡Œæˆ‘ç›´æ¥ ./configure å…ˆè¯•ä¸€ä¸‹æœ‰ä»€ä¹ˆé”™è¯¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure: error: C compiler cc is not found</span><br></pre></td></tr></table></figure>
<p>å¥½å§ï¼Œç”šè‡³è¿ gcc éƒ½æ²¡æœ‰ï¼Œå…ˆå®‰è£… gcc æ‰èƒ½ç¼–è¯‘æºç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ­£å¼ç¼–è¯‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr --sbin-path=/usr/sbin/nginx --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/var/run/nginx/nginx.pid --lock-path=/var/lock/nginx.lock --user=nginx --group=nginx --with-http_ssl_module --with-http_flv_module --with-http_stub_status_module --with-http_gzip_static_module --http-client-body-temp-path=/var/tmp/nginx/client/ --http-proxy-temp-path=/var/tmp/nginx/proxy/ --http-fastcgi-temp-path=/var/tmp/nginx/fcgi/ --http-uwsgi-temp-path=/var/tmp/nginx/uwsgi --http-scgi-temp-path=/var/tmp/nginx/scgi --with-pcre</span><br></pre></td></tr></table></figure>
<p>åˆä¸€ä¸ªé”™è¯¯æ¥äº†</p>
<blockquote>
<p>./configure: error: the HTTP rewrite module requires the PCRE library.<br>You can either disable the module by using â€“without-http_rewrite_module<br>option, or install the PCRE library into the system, or build the PCRE library<br>statically from the source with nginx by using â€“with-pcre=<path></path> option.</p>
</blockquote>
<p>è¿™ä¸ªé”™è¯¯æˆ‘ä»¬çœ‹æç¤ºå¯ä»¥çœ‹å‡ºï¼ŒNginx éœ€è¦å®‰è£… PCRE Libraryï¼Œç±»ä¼¼çš„é”™è¯¯æç¤ºè¿˜æœ‰å¾ˆå¤šï¼Œä¸‹é¢æˆ‘ä»¬ä¸€æ¬¡æ€§å°† Nginx çš„ä¾èµ–åŒ…éƒ½å®‰è£…ä¸Š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//&#23433;&#35013;PCRE &#24211;&#26159;&#20026;&#20351;&#29992; Nginx &#25903;&#25345; HTTP Rewrite &#27169;&#22359;&#12290;&#10;yum -y install pcre-devel&#10;// zlib&#10;yum -y install zlib-devel&#10;// openssl&#10;yum -y install openssl-devel</span><br></pre></td></tr></table></figure>
<p>å†æ‰§è¡Œä¸Šé¢çš„ ./configure å‘½ä»¤ï¼Œå½“å‡ºç°ä¸‹é¢æç¤ºæ—¶ï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»é…ç½®å¥½äº†å¯ä»¥ç¼–è¯‘äº†<br>å› ä¸ºæˆ‘ä»¬é…ç½®æ—¶å®šä¹‰äº† user å’Œ groupï¼Œä¸‹é¢æ–°å»ºä¸€ä¸ªnginx ç”¨æˆ·å’Œnginx ç”¨æˆ·ç»„æ‰èƒ½è¿è¡ŒnginxæœåŠ¡è¿›ç¨‹ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># groupadd -r nginx&#10;# useradd -r -g nginx -s /bin/false -M nginx        &#10;# id nginx</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Configuration summary</p>
<ul>
<li>using system PCRE library</li>
<li>using system OpenSSL library</li>
<li>md5: using OpenSSL library</li>
<li>sha1: using OpenSSL library</li>
<li>using system zlib library<br>â€¦â€¦</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make&#10;//&#19968;&#33324; make test &#21487;&#30465;&#30053;&#10;make test&#10;make install</span><br></pre></td></tr></table></figure>
<p>å®‰è£…æˆåŠŸåæˆ‘ä»¬è¿˜éœ€è¦åšä¸€äº›é…ç½®</p>
<p>1ã€ä¸ºNginxæä¾›sysvé£æ ¼çš„æœåŠ¡è„šæœ¬ï¼ˆ Red Hat Nginx Init Script Should work on RHEL, Fedora, CentOS. Tested on CentOS 5.  Save this file as /etc/init.d/nginx ï¼‰</p>
<p>åœ¨æ–°å»ºæ–‡ä»¶ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/rc.d/init.d/nginx</span><br></pre></td></tr></table></figure>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh &#10;# &#10;# nginx - this script starts and stops the nginx daemon &#10;# &#10;# chkconfig:   - 85 15  &#10;# description:  Nginx is an HTTP(S) server, HTTP(S) reverse \ &#10;#               proxy and IMAP/POP3 proxy server &#10;# processname: nginx &#10;# config:      /etc/nginx/nginx.conf &#10;# config:      /etc/sysconfig/nginx &#10;# pidfile:     /var/run/nginx.pid &#10;  &#10;# Source function library. &#10;. /etc/rc.d/init.d/functions &#10;  &#10;# Source networking configuration. &#10;. /etc/sysconfig/network &#10;  &#10;# Check that networking is up. &#10;[ &#34;$NETWORKING&#34; = &#34;no&#34; ] &#38;&#38; exit 0 &#10;  &#10;nginx=&#34;/usr/sbin/nginx&#34; &#10;prog=$(basename $nginx) &#10;  &#10;NGINX_CONF_FILE=&#34;/etc/nginx/nginx.conf&#34; &#10;  &#10;[ -f /etc/sysconfig/nginx ] &#38;&#38; . /etc/sysconfig/nginx &#10;  &#10;lockfile=/var/lock/subsys/nginx &#10;  &#10;make_dirs() &#123; &#10;   # make required directories &#10;   user=`nginx -V 2&#62;&#38;1 | grep &#34;configure arguments:&#34; | sed &#39;s/[^*]*--user=\([^ ]*\).*/\1/g&#39; -` &#10;   options=`$nginx -V 2&#62;&#38;1 | grep &#39;configure arguments:&#39;` &#10;   for opt in $options; do &#10;       if [ `echo $opt | grep &#39;.*-temp-path&#39;` ]; then &#10;           value=`echo $opt | cut -d &#34;=&#34; -f 2` &#10;           if [ ! -d &#34;$value&#34; ]; then &#10;               # echo &#34;creating&#34; $value &#10;               mkdir -p $value &#38;&#38; chown -R $user $value &#10;           fi &#10;       fi &#10;   done &#10;&#125; &#10;  &#10;start() &#123; &#10;    [ -x $nginx ] || exit 5 &#10;    [ -f $NGINX_CONF_FILE ] || exit 6 &#10;    make_dirs &#10;    echo -n $&#34;Starting $prog: &#34; &#10;    daemon $nginx -c $NGINX_CONF_FILE &#10;    retval=$? &#10;    echo &#10;    [ $retval -eq 0 ] &#38;&#38; touch $lockfile &#10;    return $retval &#10;&#125; &#10;  &#10;stop() &#123; &#10;    echo -n $&#34;Stopping $prog: &#34; &#10;    killproc $prog -QUIT &#10;    retval=$? &#10;    echo &#10;    [ $retval -eq 0 ] &#38;&#38; rm -f $lockfile &#10;    return $retval &#10;&#125; &#10;  &#10;restart() &#123; &#10;    configtest || return $? &#10;    stop &#10;    sleep 1 &#10;    start &#10;&#125; &#10;  &#10;reload() &#123; &#10;    configtest || return $? &#10;    echo -n $&#34;Reloading $prog: &#34; &#10;    killproc $nginx -HUP &#10;    RETVAL=$? &#10;    echo &#10;&#125; &#10;  &#10;force_reload() &#123; &#10;    restart &#10;&#125; &#10;  &#10;configtest() &#123; &#10;  $nginx -t -c $NGINX_CONF_FILE &#10;&#125; &#10;  &#10;rh_status() &#123; &#10;    status $prog &#10;&#125; &#10;  &#10;rh_status_q() &#123; &#10;    rh_status &#62;/dev/null 2&#62;&#38;1 &#10;&#125; &#10;  &#10;case &#34;$1&#34; in &#10;    start) &#10;        rh_status_q &#38;&#38; exit 0 &#10;        $1 &#10;        ;; &#10;    stop) &#10;        rh_status_q || exit 0 &#10;        $1 &#10;        ;; &#10;    restart|configtest) &#10;        $1 &#10;        ;; &#10;    reload) &#10;        rh_status_q || exit 7 &#10;        $1 &#10;        ;; &#10;    force-reload) &#10;        force_reload &#10;        ;; &#10;    status) &#10;        rh_status &#10;        ;; &#10;    condrestart|try-restart) &#10;        rh_status_q || exit 0 &#10;            ;; &#10;    *) &#10;        echo $&#34;Usage: $0 &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;&#34; &#10;        exit 2 &#10;esac</span><br></pre></td></tr></table></figure>
<p> ç»™äºˆåˆšæ‰çš„æ–‡ä»¶å¯æ‰§è¡Œæƒé™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/rc.d/init.d/nginx</span><br></pre></td></tr></table></figure>
<p>å¹¶æŠŠä»–æ·»åŠ åˆ°æœåŠ¡åˆ—è¡¨ä¸­</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --add nginx&#10;chkconfig nginx on</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨æœåŠ¡ï¼Œå¹¶æŸ¥çœ‹å¯åŠ¨çŠ¶æ€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/nginx start&#10;netstat -tnlp  | grep nginx</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨åœ¨å¯ä»¥è®¿é—®äº†ï¼ŒWelcome to nginx!</p>
<p>é‡å¯æœåŠ¡å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/nginx restart&#10;/etc/init.d/nginx stop</span><br></pre></td></tr></table></figure>
<h2 id="u4E8C_u3001_u5B89_u88C5_MySQL"><a href="#u4E8C_u3001_u5B89_u88C5_MySQL" class="headerlink" title="äºŒã€å®‰è£… MySQL"></a>äºŒã€å®‰è£… MySQL</h2><h3 id="u4E0B_u8F7D_MySQL"><a href="#u4E0B_u8F7D_MySQL" class="headerlink" title="ä¸‹è½½ MySQL"></a>ä¸‹è½½ MySQL</h3><p>MySQL çš„å®˜æ–¹<a href="http://dev.mysql.com/downloads/mysql/" target="_blank" rel="external">ä¸‹è½½åœ°å€</a>ï¼Œè¿›å»é€‰æ‹© Source Code<br>è¿™é‡Œæˆ‘è£…çš„æ˜¯5.6.28<br>å¦‚æœä½ ä¸æƒ³å†å»å®˜ç½‘æ‰¾çš„è¯ï¼Œå¯ä»¥åœ¨ä½ çš„ä¸‹è½½ç›®å½•ç›´æ¥æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://cdn.mysql.com//Downloads/MySQL-5.6/mysql-5.6.28.tar.gz&#10;tar -xzvf mysql-5.6.28.tar.gz &#10;cd mysql-5.6.28</span><br></pre></td></tr></table></figure>
<h3 id="u51C6_u5907_u5DE5_u4F5C"><a href="#u51C6_u5907_u5DE5_u4F5C" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>å®‰è£…å‰çš„å‡†å¤‡å·¥ä½œï¼ŒMySQLéœ€è¦ç”¨åˆ°çš„ä¾èµ–åŒ…ä¾æ¬¡å®‰è£…ä¸Š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc-c++&#10;yum -y install cmake&#10;yum -y install bison-devel&#10;yum -y install ncurses-devel</span><br></pre></td></tr></table></figure>
<h3 id="u7F16_u8BD1_u5B89_u88C5"><a href="#u7F16_u8BD1_u5B89_u88C5" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h3><p>ç¼–è¯‘é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake \&#10;-DCMAKE_INSTALL_PREFIX=/usr/local/mysql \&#10;-DMYSQL_DATADIR=/usr/local/mysql/data \&#10;-DSYSCONFDIR=/etc \&#10;-DWITH_MYISAM_STORAGE_ENGINE=1 \&#10;-DWITH_INNOBASE_STORAGE_ENGINE=1 \&#10;-DWITH_MEMORY_STORAGE_ENGINE=1 \&#10;-DWITH_READLINE=1 \&#10;-DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock \&#10;-DMYSQL_TCP_PORT=3306 \&#10;-DENABLED_LOCAL_INFILE=1 \&#10;-DWITH_PARTITION_STORAGE_ENGINE=1 \&#10;-DEXTRA_CHARSETS=all \&#10;-DDEFAULT_CHARSET=utf8 \&#10;-DDEFAULT_COLLATION=utf8_general_ci</span><br></pre></td></tr></table></figure>
<p>å‚æ•°è¯¦ç»†é…ç½®ï¼Œå‚è€ƒMySQLå®˜æ–¹æ–‡æ¡£çš„<a href="http://dev.mysql.com/doc/refman/5.5/en/source-configuration-options.html" target="_blank" rel="external">MySQL Source-Configuration Options</a><br>æˆ‘è¿™é‡Œå‡ºç°äº†ä»¥ä¸‹è­¦å‘Šï¼š</p>
<blockquote>
<p>CMake Warning:<br>  Manually-specified variables were not used by the project:</p>
<p>  WITH_MEMORY_STORAGE_ENGINE</p>
<p>  WITH_READLINE</p>
<p>â€“ Build files have been written to: /root/lnmp_source/mysql-5.6.28</p>
</blockquote>
<p>æç¤ºä¸¤ä¸ªé…ç½®é¡¹æ²¡æœ‰åº”ç”¨ä¸Šï¼Œæˆ‘å¹²è„†å°±æŠŠè¿™ä¸¤é¡¹é…ç½®å»æ‰äº†é‡æ–°./configure äº†ä¸€ä¸‹ï¼Œè¿™æ¬¡æ²¡æœ‰è­¦å‘Šäº†<br>æˆ‘æŸ¥äº†ä¸‹è¿™ä¸¤é¡¹çš„ä½œç”¨ï¼š</p>
<p>-WITH_MEMORY_STORAGE_ENGINE #æ”¯æŒMemoryå¼•æ“<br>-DWITH_READLINE=1 \ #å¿«æ·é”®åŠŸèƒ½</p>
<p>å¦‚æœç”¨åˆ°å†åšé…ç½®ï¼Œä¸‹é¢å®‰è£…</p>
<p>å¥½äº†å¼€å§‹ç¼–è¯‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>
<p> MySQL ç¼–è¯‘æ—¶é—´æ¯”è¾ƒé•¿â€¦æˆ‘è¿™å•æ ¸ VPSâ€¦30åˆ†é’Ÿåâ€¦</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure>
<p> åˆ›å»º MySQL çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd mysql&#10;useradd -g mysql mysql</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹/usr/local/mysqlæƒé™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R mysql:mysql /usr/local/mysql</span><br></pre></td></tr></table></figure>
<h3 id="u521D_u59CB_u5316_u914D_u7F6E"><a href="#u521D_u59CB_u5316_u914D_u7F6E" class="headerlink" title="åˆå§‹åŒ–é…ç½®"></a>åˆå§‹åŒ–é…ç½®</h3><p>è¿›å…¥å®‰è£…è·¯å¾„</p>
<p>cd /usr/local/mysql<br>è¿›å…¥å®‰è£…è·¯å¾„ï¼Œæ‰§è¡Œåˆå§‹åŒ–é…ç½®è„šæœ¬ï¼Œåˆ›å»ºç³»ç»Ÿè‡ªå¸¦çš„æ•°æ®åº“å’Œè¡¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scripts/mysql_install_db --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --user=mysql</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæ‰§è¡Œä¼šæŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>./scripts/mysql_install_db: /usr/bin/perl: bad interpreter: No such file or directory<br>åŸå› æ˜¯ç³»ç»Ÿæ²¡æœ‰å®‰è£…Perl å’Œ Perl-devel</p>
</blockquote>
<p>è§£å†³åŠæ³•ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install perl perl-devel</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å®Œæˆåå†æ‰§è¡Œ MySQL åˆå§‹åŒ–è„šæœ¬å°±å¯ä»¥äº†<br>ç°åœ¨åº”è¯¥å¯ä»¥å¼€å¯ MySQL äº†ã€‚</p>
<p>åŒæ ·å°† MySQL æä¾›çš„sysvé£æ ¼çš„æœåŠ¡è„šæœ¬å¤åˆ¶åˆ° /etc/init.d/mysqlç›®å½•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp support-files/mysql.server /etc/init.d/mysql&#10;// &#35774;&#32622;&#24320;&#26426;&#21551;&#21160;&#10;chkconfig mysql on&#10;// &#21551;&#21160;&#26381;&#21153;&#10;service mysql start  // &#21551;&#21160;MySQL&#10;// &#25110;&#32773;&#20351;&#29992;&#10;/etc/init.d/mysql start // &#21551;&#21160; MySQL</span><br></pre></td></tr></table></figure>
<p>å°† MySQL åŠ å…¥ç¯å¢ƒå˜é‡ï¼Œä¿®æ”¹/etc/profileæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH=/usr/local/mysql/bin:$PATH&#10;export PATH</span><br></pre></td></tr></table></figure>
<p>ä¿å­˜å¹¶å…³é—­æ–‡ä»¶ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤è®©é…ç½®ç”Ÿæ•ˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>
<p>MySQL è·‘èµ·æ¥äº†ï¼Œæˆ‘æä½é… 512 å†…å­˜çš„ VPS ç¬é—´è¢«å ç”¨äº† 400MB å•Š<br>ä¿®æ”¹ /usr/local/mysql/my.cnf ä¸­çš„ä»¥ä¸‹å‡ é¡¹é…ç½®ï¼ˆæ²¡æœ‰è¯¥é¡¹å¯ä»¥æ·»åŠ ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">table_definition_cache=400&#10;table_open_cache=256</span><br></pre></td></tr></table></figure>
<p>ç„¶å</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/mysql restart</span><br></pre></td></tr></table></figure>
<p>ç¬é—´æ¸…çˆ½äº†ï¼Œåªèƒ½ç‰ºç‰²æ€§èƒ½äº†ğŸ˜‚ã€‚</p>
<h3 id="u4FEE_u6539_MySQL_root__u8D26_u6237_u5BC6_u7801"><a href="#u4FEE_u6539_MySQL_root__u8D26_u6237_u5BC6_u7801" class="headerlink" title="ä¿®æ”¹ MySQL root è´¦æˆ·å¯†ç "></a>ä¿®æ”¹ MySQL root è´¦æˆ·å¯†ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot  &#10;mysql&#62; SET PASSWORD = PASSWORD(&#39;YOUR PASSWORD&#39;);</span><br></pre></td></tr></table></figure>
<h3 id="u4FEE_u6539_u9632_u706B_u5899_u914D_u7F6E"><a href="#u4FEE_u6539_u9632_u706B_u5899_u914D_u7F6E" class="headerlink" title="ä¿®æ”¹é˜²ç«å¢™é…ç½®"></a>ä¿®æ”¹é˜²ç«å¢™é…ç½®</h3><p>æ‰“å¼€/etc/sysconfig/iptables</p>
<p>åœ¨â€œ-A INPUT â€“m state â€“state NEW â€“m tcp â€“p â€“dport 22 â€“j ACCEPTâ€ï¼Œä¸‹æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -m state --state NEW -m tcp -p -dport 3306 -j ACCEPT</span><br></pre></td></tr></table></figure>
<p>ç„¶åä¿å­˜ï¼Œå¹¶å…³é—­è¯¥æ–‡ä»¶ï¼Œåœ¨ç»ˆç«¯å†…è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œåˆ·æ–°é˜²ç«å¢™é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables restart</span><br></pre></td></tr></table></figure>
<p>MySQL å®‰è£…å®Œæ¯•ã€‚</p>
<h2 id="u5B89_u88C5_PHP7"><a href="#u5B89_u88C5_PHP7" class="headerlink" title="å®‰è£… PHP7"></a>å®‰è£… PHP7</h2><h3 id="u4E0B_u8F7D_PHP7_u6E90_u7801_u5305"><a href="#u4E0B_u8F7D_PHP7_u6E90_u7801_u5305" class="headerlink" title="ä¸‹è½½ PHP7æºç åŒ…"></a>ä¸‹è½½ PHP7æºç åŒ…</h3><p>æˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯ PHP 7ï¼Œä¸‹è½½åˆ«çš„ç‰ˆæœ¬å»<a href="http://php.net/downloads.php" target="_blank" rel="external">php.net</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://cn2.php.net/distributions/php-7.0.2.tar.gz&#10;tar -xzvf php-7.0.2.tar.gz&#10;cd php-7.0.2</span><br></pre></td></tr></table></figure>
<h3 id="u7F16_u8BD1_u914D_u7F6E"><a href="#u7F16_u8BD1_u914D_u7F6E" class="headerlink" title="ç¼–è¯‘é…ç½®"></a>ç¼–è¯‘é…ç½®</h3><p>å¦‚æœæˆ‘ä»¬ç›´æ¥é…ç½®çš„è¯åº”è¯¥ä¼šæŠ¥é”™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…ä¸€äº› PHP çš„ä¾èµ–åŒ…ï¼Œç¼–è¯‘é…ç½®ä¸€ä¸‹è¯•è¯•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --enable-fpm --with-mysql</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆæŠ¥ä»¥ä¸‹é”™è¯¯ï¼š</p>
<blockquote>
<p>configure: error: xml2-config not found. Please check your libxml2 installation.</p>
</blockquote>
<p>ç¼ºå°‘ libxml2ï¼Œç›´æ¥ä½¿ç”¨ yum æ–¹å¼å®‰è£… libxml2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y libxml2</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢ä¸€å£æ°”æŠŠæ‰€æœ‰çš„PHP ç”¨åˆ°çš„è½¯ä»¶åŒ…éƒ½å®‰è£…ä¸Š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers php-mysqlnd libmcrypt-devel libtidy libtidy-devel recode recode-devel libxpm-devel</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å®Œä¹‹åå¯ä»¥ç¼–è¯‘é…ç½®äº†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/php7 --with-config-file-path=/etc/php7 --with-mysql=mysqlnd --with-pdo-mysql=mysqlnd --with-mysqli=mysqlnd --with-gd --with-iconv --with-zlib --enable-xml --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --enable-mbregex --enable-fpm --enable-mbstring --enable-ftp --enable-gd-native-ttf --with-openssl --enable-pcntl --enable-sockets --with-xmlrpc --enable-zip --enable-soap --without-pear --with-gettext --enable-session --with-mcrypt --with-curl --with-jpeg-dir --with-freetype-dir --with-xpm-dir=/usr --with-bz2</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„å‰ä¸¤ä¸ªé…ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--prefix=/usr/local/php7 //&#23433;&#35013;&#20301;&#32622;&#10;--with-config-file-path=/etc/php7 //&#37197;&#32622;&#25991;&#20214;&#20301;&#32622;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¿˜ä¼šæŠ¥é”™ï¼Œå¯èƒ½æ˜¯ç¼ºå°‘ä¾èµ–åŒ…ï¼ŒæŒ‰ç…§æç¤ºå®‰è£…å°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>configure: error: xpm.h not found.</p>
</blockquote>
<p>ä¸Šé¢å¿˜äº†å®‰è£… libxpm å’Œ mcrypt æ‰©å±•<br>å®‰è£… libXpm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install libXpm-devel</span><br></pre></td></tr></table></figure>
<p>å¥½å¤š yum æºä¸­æ²¡æœ‰ mcryptï¼Œæ‹…å¿ƒç¬¬ä¸‰æ–¹æºä¸å¯é ï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨æºç å®‰è£… mcryptï¼Œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªç›®å½•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget ftp://mcrypt.hellug.gr/pub/crypto/mcrypt/libmcrypt/libmcrypt-2.5.6.tar.gz&#10;tar -zxvf libmcrypt-2.5.6.tar.gz&#10;cd libmcrypt-2.5.6.tar.gz&#10;make &#38;&#38; make install</span><br></pre></td></tr></table></figure>
<p>å†é…ç½®ï¼Œç¼–è¯‘å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make&#10;sudo make install</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œåˆ—å‡º PHP ç¼–è¯‘é…ç½®å¸¸è§é”™è¯¯å’Œè§£å†³åŠæ³•ï¼š</p>
<blockquote>
<p>configure: error: xslt-config not found. Please reinstall the libxslt &gt;= 1.1.0 distribution</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install libxslt-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: Could not find net-snmp-config binary. Please check your net-snmp installation.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install net-snmp-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: Please reinstall readline - I cannot find readline.h</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install readline-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: Cannot find pspell</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install aspell-devel</span><br></pre></td></tr></table></figure>
<p>checking for unixODBC supportâ€¦ configure: error: ODBC header file â€˜/usr/include/sqlext.hâ€™ not found!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install unixODBC-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: Unable to detect ICU prefix or /usr/bin/icu-config failed. Please verify ICU install prefix and make sure icu-config works.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install libicu-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: utf8mime2text() has new signature, but U8TCANONICAL is missing. This should not happen. Check config.log for additional information.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install libc-client-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: freetype.h not found.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install freetype-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: xpm.h not found.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install libXpm-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: png.h not found.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install libpng-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: vpx_codec.h not found.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install libvpx-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: Cannot find enchant</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install enchant-devel</span><br></pre></td></tr></table></figure>
<p>configure: error: Please reinstall the libcurl distribution - easy.h should be in /include/curl/</p>
</blockquote>
<h3 id="u914D_u7F6E_Nginx"><a href="#u914D_u7F6E_Nginx" class="headerlink" title="é…ç½® Nginx"></a>é…ç½® Nginx</h3><p>nginxæœ¬èº«ä¸èƒ½å¤„ç†PHPï¼Œå®ƒåªæ˜¯ä¸ªwebæœåŠ¡å™¨ï¼Œå½“æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå¦‚æœæ˜¯phpè¯·æ±‚ï¼Œåˆ™å‘ç»™phpè§£é‡Šå™¨å¤„ç†ï¼Œå¹¶æŠŠç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<p>nginxä¸€èˆ¬æ˜¯æŠŠè¯·æ±‚å‘fastcgiç®¡ç†è¿›ç¨‹å¤„ç†ï¼Œfascgiç®¡ç†è¿›ç¨‹é€‰æ‹©cgiå­è¿›ç¨‹å¤„ç†ç»“æœå¹¶è¿”å›è¢«nginx</p>
<p>é¦–å…ˆä¿®æ”¹ Nginx çš„é…ç½®ï¼Œåˆšæ‰å®‰è£…æ—¶é…ç½®çš„é…ç½®æ–‡ä»¶ç›®å½•æ˜¯ /etc/nginx/nginx.conf</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000&#10;#&#10;location ~ .php$ &#123;&#10;&#9;root /var/www; //&#26681;&#30446;&#24405; root&#9;&#10;&#9;fastcgi_pass 127.0.0.1:9000;&#10;&#9;fastcgi_index index.php;&#10;&#9;fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&#10;&#9;include fastcgi_params;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ location ~.php çš„é…ç½®å—çš„ root æ ¹ç›®å½•ä¸€å®šè¦è·Ÿ server å—çš„é…ç½®ä¸€æ ·ï¼Œå¦åˆ™ php æ–‡ä»¶ä¼šä¸èƒ½è§£æï¼Œä¼šæŠ¥ File not found é”™è¯¯ã€‚</p>
<p>åŒæ—¶ä¹Ÿå»ºè®®åœ¨location / é…ç½®ä¸‹çš„ index åŠ ä¸Š index.php</p>
<p>é…ç½®å¥½ Nginx å¯ä»¥å…ˆå°è¯•å¯åŠ¨ php-fpm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/php7/sbin/php-fpm</span><br></pre></td></tr></table></figure>
<p>å—¯ï¼Œæ˜¯çš„ï¼Œåº”è¯¥ä¼šæŠ¥ä¸‹é¢çš„é”™è¯¯ğŸ˜„</p>
<blockquote>
<p>ERROR: failed to open configuration file â€˜/local/php7/etc/php-fpm.confâ€™: No such file or directory (2)<br>[20-Jan-2016 10:56:50] ERROR: failed to load configuration file â€˜/local/php7/etc/php-fpm.confâ€™</p>
</blockquote>
<p>å°†é»˜è®¤çš„é…ç½®æ–‡ä»¶ cp ä¸ºæ­£æˆ¿</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /local/php7/etc/php-fpm.conf.default /local/php7/etc/php-fpm.conf</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¿™æ—¶å€™å¯åŠ¨ php-fpm ä¼šæŠ¥ä¸‹é¢çš„é”™è¯¯</p>
<blockquote>
<p>WARNING: Nothing matches the include pattern â€˜/local/php7/etc/php-fpm.d/*.confâ€™ from /local/php7/etc/php-fpm.conf at line 125.<br>[20-Jan-2016 11:03:40] ERROR: No pool defined. at least one pool section must be specified in config file</p>
</blockquote>
<p>æ ¹æ®é”™è¯¯æç¤ºä¿¡æ¯ï¼Œè¿˜æ˜¯åˆå§‹åŒ–é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /local/php7/etc/php-fpm.d/www.conf.default /local/php7/etc/php-fpm.d/www.conf</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™åº”è¯¥å¯ä»¥å¯åŠ¨äº†ã€‚<br>ä¸‹é¢æµ‹è¯•ä¸€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www&#10;echo &#34;&#60;?php phpinfo();&#34; &#62; index.php</span><br></pre></td></tr></table></figure>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæ•´ä¸ªå®‰è£…è¿‡ç¨‹å°±å†™å®Œäº†.</p>
<p>é›¶é›¶æ•£æ•£åœ°çœ‹äº†ç½‘ä¸Šå¾ˆå¤šçš„æ•™ç¨‹ï¼Œæ‰€ä»¥å†³å®šæ€»ï¼ˆfuï¼‰ç»“ï¼ˆzhiï¼‰ä¸€ï¼ˆyiï¼‰ä¸‹ï¼ˆfenï¼‰ï¼Œæè¿°æ¯”è¾ƒå‚»ç“œåŒ–ï¼Œå®‰è£…è¿‡ç¨‹ä¸­åŸºæœ¬æ‰€æœ‰çš„é”™è¯¯å°±æåˆ°äº†ã€‚å¸Œæœ›èƒ½å¯¹åˆšè¸å…¥ Linux æœåŠ¡ç«¯çš„åŒå­¦æœ‰æ‰€å¸®åŠ©ã€‚</p>
<p>å‚è€ƒæ–‡ç« ï¼š</p>
<ul>
<li><a href="http://xyuex.blog.51cto.com/5131937/1013414" target="_blank" rel="external">Nginx æºç ç¼–è¯‘å®‰è£…</a></li>
<li><a href="http://www.cnblogs.com/xiongpq/p/3384681.html" target="_blank" rel="external">CentOS 6.4ä¸‹ç¼–è¯‘å®‰è£…MySQL 5.6.14</a></li>
<li><a href="http://blog.wuxu92.com/compile-and-install-php7-beta1/" target="_blank" rel="external">ç¼–è¯‘å®‰è£…PHP7 beta1</a></li>
<li><a href="https://coderwall.com/p/ggmpfa/php-configuration-error-and-solutions-in-rpm" target="_blank" rel="external">PHP configuration error and Solutions in RPM</a></li>
</ul>

      
    </div>
    
  </div>
  
    
  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">åˆ†äº«åˆ°: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- å¤šè¯´è¯„è®ºæ¡† start -->
	<div class="ds-thread" data-thread-key="LNMPæºç å®‰è£…æ•™ç¨‹" data-title="åœ¨å´­æ–°çš„ Centos ç³»ç»Ÿä¸Šç¼–è¯‘å®‰è£… LNMP ç¯å¢ƒå®Œå…¨ç‰ˆ" data-url="http://yoursite.com/2016/01/17/LNMPæºç å®‰è£…æ•™ç¨‹/"></div>
	<!-- å¤šè¯´è¯„è®ºæ¡† end -->
	<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"wangkaibo"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Kaibo Wang
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>